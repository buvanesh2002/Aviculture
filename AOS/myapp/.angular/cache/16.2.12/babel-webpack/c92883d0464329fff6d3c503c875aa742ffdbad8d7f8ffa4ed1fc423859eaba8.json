{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let FlockEntryComponent = class FlockEntryComponent {\n  constructor(router, toastr, appservice) {\n    this.router = router;\n    this.toastr = toastr;\n    this.appservice = appservice;\n    this.flockData = {};\n  }\n  onSubmit() {\n    let obj = {\n      \"flockName\": this.flockData.flockName,\n      \"breedName\": this.flockData.breedName,\n      \"startDate\": this.flockData.startDate,\n      \"startAge\": parseInt(this.flockData.startAge),\n      \"openingBirds\": parseInt(this.flockData.openingBirds),\n      \"shedNumber\": this.flockData.shedNumber.toString()\n    };\n    console.log(obj);\n    this.appservice.postRequest(\"addflock\", obj).subscribe(result => {\n      this.showSuccess('Flock created successfully!');\n      this.resetForm();\n      this.router.navigate(['listflock']);\n    }, error => {\n      if (error.error && error.error.errors) {\n        for (const field in error.error.errors) {\n          this.showError(`Error in ${field}: ${error.error.errors[field]}`);\n        }\n      } else {\n        this.showError('Error occurred while creating flock!');\n      }\n    });\n  }\n  resetForm() {\n    this.flockData = {};\n  }\n  showSuccess(msg) {\n    if (msg) {\n      this.toastr.success(msg);\n    }\n  }\n  showError(msg) {\n    if (msg) {\n      this.toastr.error(msg);\n    }\n  }\n};\nFlockEntryComponent = __decorate([Component({\n  selector: 'app-flock-entry',\n  templateUrl: './flock-entry.component.html',\n  styleUrls: ['./flock-entry.component.css']\n})], FlockEntryComponent);","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}