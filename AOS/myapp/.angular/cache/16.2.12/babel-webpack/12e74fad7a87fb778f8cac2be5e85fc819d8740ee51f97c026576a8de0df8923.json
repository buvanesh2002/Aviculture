{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let DailyentryComponent = class DailyentryComponent {\n  constructor(router, toastr, appservice) {\n    this.router = router;\n    this.toastr = toastr;\n    this.appservice = appservice;\n    this.flockData = {};\n  }\n  //Mortality\n  //Eggs\n  //Feed\n  //BirdsSold\n  //CountErr\n  //Trays\n  onSubmit() {\n    let obj = {\n      \"id\": this.flockData.id,\n      \"date\": this.flockData.date.toString(),\n      \"mortality\": parseInt(this.flockData.mortality),\n      \"extraEggs\": parseInt(this.flockData.extraEggs),\n      \"feed\": parseInt(this.flockData.feed),\n      \"birdsSold\": parseInt(this.flockData.birdsSold),\n      \"countErr\": parseInt(this.flockData.countErr),\n      \"remarks\": this.flockData.remarks,\n      \"trays\": parseInt(this.flockData.trays)\n    };\n    console.log(obj);\n    this.appservice.postRequest(\"dailyentries\", this.flockData).subscribe(result => {\n      this.showSuccess('dailyentries created successfully!');\n      this.resetForm();\n      this.router.navigate(['listflockentry']);\n    }, error => {\n      if (error.error && error.error.errors) {\n        for (const field in error.error.errors) {\n          this.showError(`Error in ${field}: ${error.error.errors[field]}`);\n        }\n      } else {\n        this.showError('Error occurred while creating flock!');\n      }\n    });\n  }\n  resetForm() {\n    this.flockData = {};\n  }\n  showSuccess(msg) {\n    if (msg) {\n      this.toastr.success(msg);\n    }\n  }\n  showError(msg) {\n    if (msg) {\n      this.toastr.error(msg);\n    }\n  }\n};\nDailyentryComponent = __decorate([Component({\n  selector: 'app-dailyentry',\n  templateUrl: './dailyentry.component.html',\n  styleUrls: ['./dailyentry.component.css']\n})], DailyentryComponent);","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}